---
import BaseLayout from './BaseLayout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';

interface Props {
  title: string;
  description?: string;
  activeCategory?: string;
}

const {
  title,
  description = 'Produkte aus der Kooperative DÃ¼rnau bestellen.',
  activeCategory,
} = Astro.props;
---

<BaseLayout title={title} description={description}>
  <Header />

  <main class="flex-1">
    <div class="container-page py-8 md:py-12">
      <div class="flex flex-col md:flex-row gap-8 md:gap-12">
        <!-- Category Sidebar -->
        <aside class="w-full md:w-64 shrink-0">
          <nav aria-label="Produktkategorien">
            <h2 class="text-lg font-semibold text-primary-800 mb-4">Kategorien</h2>
            <div id="category-sidebar">
              <slot name="sidebar" />
            </div>
          </nav>
        </aside>

        <!-- Main Shop Content -->
        <div class="flex-1 min-w-0">
          <slot />
        </div>
      </div>
    </div>
  </main>

  <!-- Cart Drawer (Vue island, hydrated on the client) -->
  <div id="cart-drawer-container">
    <slot name="cart-drawer" />
  </div>

  <Footer />
</BaseLayout>
